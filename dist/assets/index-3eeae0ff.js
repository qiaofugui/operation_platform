import{a9 as he,G as Me,b as ye,$ as Pe,r as I,c as j,k as e,a2 as G,o as ce,aU as Ve,au as Be,a4 as De,I as xe,a7 as ke,a as te,a0 as Ce,f as C,s as M,j as J,g as Z,w as n,h as ee,n as F,x as Q,y as a,E as pe,bC as He,v as le,z as ve,p as W,aP as Oe,q as Ie,l as be,F as ne,ag as oe,t as q,_ as Se,a5 as Re,O as Ue,b1 as Fe,bD as je,a3 as We,a8 as qe,b3 as ae,b5 as U,W as ue,Q as H,as as Ke,b0 as Xe,bk as Ye,bl as Ge,bh as Qe,X as Je,Y as Ze,V as et}from"./index-6a94d50c.js";import"./el-overlay-913406d9.js";import{E as tt}from"./el-pagination-5af571ff.js";import{a as at,E as st,b as nt,v as ot}from"./el-badge-19ceb458.js";/* empty css                   */import{E as lt}from"./el-button-b74f392d.js";import{t as _e,E as rt}from"./el-image-viewer-5b906abb.js";import{f as it}from"./vnode-ba62fb5a.js";import{E as ut}from"./index-6ad7ce7f.js";import"./position-57787ace.js";const ct=(t,v,l)=>it(t.subTree).filter(d=>{var o;return Me(d)&&((o=d.type)==null?void 0:o.name)===v&&!!d.component}).map(d=>d.component.uid).map(d=>l[d]).filter(d=>!!d),dt=(t,v)=>{const l={},i=he([]);return{children:i,addChild:o=>{l[o.uid]=o,i.value=ct(t,v,l)},removeChild:o=>{delete l[o],i.value=i.value.filter(b=>b.uid!==o)}}},ft=ye({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),mt={change:(t,v)=>[t,v].every(Pe)},we=Symbol("carouselContextKey"),ge=300,pt=(t,v,l)=>{const{children:i,addChild:$,removeChild:d}=dt(ke(),"ElCarouselItem"),o=I(-1),b=I(null),z=I(!1),A=I(),S=I(0),P=j(()=>t.arrow!=="never"&&!e(w)),y=j(()=>i.value.some(r=>r.props.label.toString().length>0)),V=j(()=>t.type==="card"),w=j(()=>t.direction==="vertical"),g=j(()=>t.height!=="auto"?{height:t.height}:{height:`${S.value}px`,overflow:"hidden"}),s=_e(r=>{c(r)},ge,{trailing:!0}),E=_e(r=>{O(r)},ge);function x(){b.value&&(clearInterval(b.value),b.value=null)}function B(){t.interval<=0||!t.autoplay||b.value||(b.value=setInterval(()=>f(),t.interval))}const f=()=>{o.value<i.value.length-1?o.value=o.value+1:t.loop&&(o.value=0)};function c(r){if(xe(r)){const X=i.value.filter(se=>se.props.name===r);X.length>0&&(r=i.value.indexOf(X[0]))}if(r=Number(r),Number.isNaN(r)||r!==Math.floor(r))return;const T=i.value.length,R=o.value;r<0?o.value=t.loop?T-1:0:r>=T?o.value=t.loop?0:T-1:o.value=r,R===o.value&&k(R),p()}function k(r){i.value.forEach((T,R)=>{T.translateItem(R,o.value,r)})}function u(r,T){var R,X,se,de;const Y=e(i),fe=Y.length;if(fe===0||!r.states.inStage)return!1;const $e=T+1,Ne=T-1,me=fe-1,Te=Y[me].states.active,ze=Y[0].states.active,Ae=(X=(R=Y[$e])==null?void 0:R.states)==null?void 0:X.active,Le=(de=(se=Y[Ne])==null?void 0:se.states)==null?void 0:de.active;return T===me&&ze||Ae?"left":T===0&&Te||Le?"right":!1}function L(){z.value=!0,t.pauseOnHover&&x()}function h(){z.value=!1,B()}function m(r){e(w)||i.value.forEach((T,R)=>{r===u(T,R)&&(T.states.hover=!0)})}function _(){e(w)||i.value.forEach(r=>{r.states.hover=!1})}function N(r){o.value=r}function O(r){t.trigger==="hover"&&r!==o.value&&(o.value=r)}function K(){c(o.value-1)}function re(){c(o.value+1)}function p(){x(),B()}function D(r){t.height==="auto"&&(S.value=r)}G(()=>o.value,(r,T)=>{k(T),T>-1&&v("change",r,T)}),G(()=>t.autoplay,r=>{r?B():x()}),G(()=>t.loop,()=>{c(o.value)}),G(()=>t.interval,()=>{p()}),G(()=>i.value,()=>{i.value.length>0&&c(t.initialIndex)});const ie=he();return ce(()=>{ie.value=Ve(A.value,()=>{k()}),B()}),Be(()=>{x(),A.value&&ie.value&&ie.value.stop()}),De(we,{root:A,isCardType:V,isVertical:w,items:i,loop:t.loop,addItem:$,removeItem:d,setActiveItem:c,setContainerHeight:D}),{root:A,activeIndex:o,arrowDisplay:P,hasLabel:y,hover:z,isCardType:V,items:i,isVertical:w,containerStyle:g,handleButtonEnter:m,handleButtonLeave:_,handleIndicatorClick:N,handleMouseEnter:L,handleMouseLeave:h,setActiveItem:c,prev:K,next:re,throttledArrowClick:s,throttledIndicatorHover:E}},vt=["onMouseenter","onClick"],_t={key:0},gt="ElCarousel",ht=te({name:gt}),yt=te({...ht,props:ft,emits:mt,setup(t,{expose:v,emit:l}){const i=t,{root:$,activeIndex:d,arrowDisplay:o,hasLabel:b,hover:z,isCardType:A,items:S,isVertical:P,containerStyle:y,handleButtonEnter:V,handleButtonLeave:w,handleIndicatorClick:g,handleMouseEnter:s,handleMouseLeave:E,setActiveItem:x,prev:B,next:f,throttledArrowClick:c,throttledIndicatorHover:k}=pt(i,l),u=Ce("carousel"),L=j(()=>{const m=[u.b(),u.m(i.direction)];return e(A)&&m.push(u.m("card")),m}),h=j(()=>{const m=[u.e("indicators"),u.em("indicators",i.direction)];return e(b)&&m.push(u.em("indicators","labels")),i.indicatorPosition==="outside"&&m.push(u.em("indicators","outside")),e(P)&&m.push(u.em("indicators","right")),m});return v({setActiveItem:x,prev:B,next:f}),(m,_)=>(C(),M("div",{ref_key:"root",ref:$,class:F(e(L)),onMouseenter:_[6]||(_[6]=Q((...N)=>e(s)&&e(s)(...N),["stop"])),onMouseleave:_[7]||(_[7]=Q((...N)=>e(E)&&e(E)(...N),["stop"]))},[J("div",{class:F(e(u).e("container")),style:be(e(y))},[e(o)?(C(),Z(ve,{key:0,name:"carousel-arrow-left",persisted:""},{default:n(()=>[ee(J("button",{type:"button",class:F([e(u).e("arrow"),e(u).em("arrow","left")]),onMouseenter:_[0]||(_[0]=N=>e(V)("left")),onMouseleave:_[1]||(_[1]=(...N)=>e(w)&&e(w)(...N)),onClick:_[2]||(_[2]=Q(N=>e(c)(e(d)-1),["stop"]))},[a(e(pe),null,{default:n(()=>[a(e(He))]),_:1})],34),[[le,(m.arrow==="always"||e(z))&&(i.loop||e(d)>0)]])]),_:1})):W("v-if",!0),e(o)?(C(),Z(ve,{key:1,name:"carousel-arrow-right",persisted:""},{default:n(()=>[ee(J("button",{type:"button",class:F([e(u).e("arrow"),e(u).em("arrow","right")]),onMouseenter:_[3]||(_[3]=N=>e(V)("right")),onMouseleave:_[4]||(_[4]=(...N)=>e(w)&&e(w)(...N)),onClick:_[5]||(_[5]=Q(N=>e(c)(e(d)+1),["stop"]))},[a(e(pe),null,{default:n(()=>[a(e(Oe))]),_:1})],34),[[le,(m.arrow==="always"||e(z))&&(i.loop||e(d)<e(S).length-1)]])]),_:1})):W("v-if",!0),Ie(m.$slots,"default")],6),m.indicatorPosition!=="none"?(C(),M("ul",{key:0,class:F(e(h))},[(C(!0),M(ne,null,oe(e(S),(N,O)=>(C(),M("li",{key:O,class:F([e(u).e("indicator"),e(u).em("indicator",m.direction),e(u).is("active",O===e(d))]),onMouseenter:K=>e(k)(O),onClick:Q(K=>e(g)(O),["stop"])},[J("button",{class:F(e(u).e("button"))},[e(b)?(C(),M("span",_t,q(N.props.label),1)):W("v-if",!0)],2)],42,vt))),128))],2)):W("v-if",!0)],34))}});var kt=Se(yt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const Ct=ye({name:{type:String,default:""},label:{type:[String,Number],default:""}}),It=(t,v)=>{const l=Re(we),i=ke(),$=.83,d=I(),o=I(!1),b=I(0),z=I(1),A=I(!1),S=I(!1),P=I(!1),y=I(!1),{isCardType:V,isVertical:w}=l;function g(f,c,k){const u=k-1,L=c-1,h=c+1,m=k/2;return c===0&&f===u?-1:c===u&&f===0?k:f<L&&c-f>=m?k+1:f>h&&f-c>=m?-2:f}function s(f,c){var k,u;const L=e(w)?((k=l.root.value)==null?void 0:k.offsetHeight)||0:((u=l.root.value)==null?void 0:u.offsetWidth)||0;return P.value?L*((2-$)*(f-c)+1)/4:f<c?-(1+$)*L/4:(3+$)*L/4}function E(f,c,k){const u=l.root.value;return u?((k?u.offsetHeight:u.offsetWidth)||0)*(f-c):0}const x=(f,c,k)=>{var u;const L=e(V),h=(u=l.items.value.length)!=null?u:Number.NaN,m=f===c;!L&&!je(k)&&(y.value=m||f===k),!m&&h>2&&l.loop&&(f=g(f,c,h));const _=e(w);A.value=m,L?(P.value=Math.round(Math.abs(f-c))<=1,b.value=s(f,c),z.value=e(A)?1:$):b.value=E(f,c,_),S.value=!0,m&&d.value&&l.setContainerHeight(d.value.offsetHeight)};function B(){if(l&&e(V)){const f=l.items.value.findIndex(({uid:c})=>c===i.uid);l.setActiveItem(f)}}return ce(()=>{l.addItem({props:t,states:Ue({hover:o,translate:b,scale:z,active:A,ready:S,inStage:P,animating:y}),uid:i.uid,translateItem:x})}),Fe(()=>{l.removeItem(i.uid)}),{carouselItemRef:d,active:A,animating:y,hover:o,inStage:P,isVertical:w,translate:b,isCardType:V,scale:z,ready:S,handleItemClick:B}},bt=te({name:"ElCarouselItem"}),St=te({...bt,props:Ct,setup(t){const v=t,l=Ce("carousel"),{carouselItemRef:i,active:$,animating:d,hover:o,inStage:b,isVertical:z,translate:A,isCardType:S,scale:P,ready:y,handleItemClick:V}=It(v),w=j(()=>{const s=`${`translate${e(z)?"Y":"X"}`}(${e(A)}px)`,E=`scale(${e(P)})`;return{transform:[s,E].join(" ")}});return(g,s)=>ee((C(),M("div",{ref_key:"carouselItemRef",ref:i,class:F([e(l).e("item"),e(l).is("active",e($)),e(l).is("in-stage",e(b)),e(l).is("hover",e(o)),e(l).is("animating",e(d)),{[e(l).em("item","card")]:e(S),[e(l).em("item","card-vertical")]:e(S)&&e(z)}]),style:be(e(w)),onClick:s[0]||(s[0]=(...E)=>e(V)&&e(V)(...E))},[e(S)?ee((C(),M("div",{key:0,class:F(e(l).e("mask"))},null,2)),[[le,!e($)]]):W("v-if",!0),Ie(g.$slots,"default")],6)),[[le,e(y)]])}});var Ee=Se(St,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const wt=We(kt,{CarouselItem:Ee}),Et=qe(Ee);function $t(t,v){return ae({url:`/admin/product/list/${t}/${v}`,method:"get"})}function Nt(t){return ae({url:`/admin/product/onSale/${t}`,method:"get"})}function Tt(t){return ae({url:`/admin/product/cancelSale/${t}`,method:"get"})}function zt(t){return ae({url:`/admin/product/getSkuInfo/${t}`,method:"get"})}function At(t){return ae({url:`/admin/product/deleteSku/${t}`,method:"delete"})}const Lt=t=>(Je("data-v-5558f87f"),t=t(),Ze(),t),Mt=Lt(()=>J("h4",null,"查看商品详情",-1)),Pt={key:0},Vt={key:0},Bt={key:0},Dt=te({__name:"index",setup(t){let v=I(1),l=I(5),i=I(0),$=I([]);ce(()=>{d()});const d=async(g=1)=>{v.value=g;const s=await $t(v.value,l.value);s.code===200?($.value=s.data.records,i.value=s.data.total):U.error(s.message)},o=()=>{d()},b=g=>{d(g)},z=async g=>{if(g.isSale===0){const s=await Nt(g.id);if(s.code!==200)return U.error(s.message);U.success(s.message),d(v.value)}else{const s=await Tt(g.id);if(s.code!==200)return U.error(s.message);U.success(s.message),d(v.value)}},A=()=>{U.warning("功能正在开发中...")};let S=I(!1),P=I(!1),y=I({});const V=async g=>{P.value=!0,S.value=!0;const s=await zt(g.id);if(s.code!==200)return U.error(s.message);y.value=s.data,P.value=!1},w=async g=>{const s=await At(g.id);if(s.code!==200)return U.error(s.message);U.success(s.message),d($.value.length>1?v.value:v.value-1)};return(g,s)=>{const E=at,x=rt,B=lt,f=Ke,c=st,k=nt,u=tt,L=Xe,h=Ye,m=Ge,_=Qe,N=Et,O=wt,K=ut,re=ot;return C(),M("div",null,[a(L,null,{default:n(()=>[a(k,{border:"",style:{margin:"10px 0"},data:e($)},{default:n(()=>[a(E,{label:"序号",type:"index",align:"center",width:"80px"}),a(E,{label:"名称",width:"150px",prop:"skuName"}),a(E,{label:"描述",prop:"skuDesc","min-width":"300"}),a(E,{label:"默认图片",width:"150px"},{default:n(({row:p})=>[a(x,{style:{width:"100%",height:"100%"},fit:"scale-down",src:p.skuDefaultImg},null,8,["src"])]),_:1}),a(E,{label:"重量(克)",prop:"weight",width:"150px"}),a(E,{label:"价格(元)",prop:"price",width:"150px"}),a(E,{label:"操作",width:"260px",fixed:"right"},{default:n(({row:p})=>[a(f,{effect:"dark",content:p.isSale===0?"上线":"下线",placement:"bottom"},{default:n(()=>[a(B,{type:p.isSale===0?"success":"info",icon:p.isSale===0?"Top":"Bottom",size:"small",onClick:D=>z(p)},null,8,["type","icon","onClick"])]),_:2},1032,["content"]),a(f,{effect:"dark",content:"编辑",placement:"bottom"},{default:n(()=>[a(B,{type:"primary",icon:"Edit",size:"small",onClick:A})]),_:1}),a(f,{effect:"dark",content:"信息",placement:"bottom"},{default:n(()=>[a(B,{type:"info",icon:"InfoFilled",size:"small",onClick:D=>V(p)},null,8,["onClick"])]),_:2},1024),a(c,{title:`确定要删除 ${p.skuName} 吗?`,icon:"DeleteFilled","icon-color":"#f56c6c",onConfirm:D=>w(p)},{reference:n(()=>[a(B,{type:"danger",size:"small",icon:"Delete"})]),_:2},1032,["title","onConfirm"])]),_:1})]),_:1},8,["data"]),a(u,{"current-page":e(v),"onUpdate:currentPage":s[0]||(s[0]=p=>ue(v)?v.value=p:v=p),"page-size":e(l),"onUpdate:pageSize":s[1]||(s[1]=p=>ue(l)?l.value=p:l=p),"page-sizes":[5,10,25,50],background:!0,layout:"prev, pager, next, jumper, ->, sizes, total",total:e(i),onSizeChange:o,onCurrentChange:b},null,8,["current-page","page-size","total"])]),_:1}),a(K,{modelValue:e(S),"onUpdate:modelValue":s[2]||(s[2]=p=>ue(S)?S.value=p:S=p),direction:"rtl",size:"35%"},{header:n(()=>[Mt]),default:n(()=>[ee((C(),M("div",null,[a(m,{gutter:5,class:"mb-15"},{default:n(()=>[a(h,{span:6},{default:n(()=>[H("名称")]),_:1}),a(h,{span:18,style:{"line-height":"24px","font-size":"14px"}},{default:n(()=>[H(q(e(y).skuName),1)]),_:1})]),_:1}),a(m,{gutter:5,class:"mb-15"},{default:n(()=>[a(h,{span:6},{default:n(()=>[H("描述")]),_:1}),a(h,{span:18,style:{"line-height":"24px","font-size":"14px"}},{default:n(()=>[H(q(e(y).skuDesc),1)]),_:1})]),_:1}),a(m,{gutter:5,class:"mb-15"},{default:n(()=>[a(h,{span:6},{default:n(()=>[H("价格")]),_:1}),a(h,{span:18,style:{color:"#ff5000","line-height":"24px","font-size":"14px"}},{default:n(()=>[H(q(e(y).price),1)]),_:1})]),_:1}),a(m,{gutter:5,class:"mb-15"},{default:n(()=>[a(h,{span:6},{default:n(()=>[H("平台属性")]),_:1}),a(h,{span:18},{default:n(()=>{var p;return[((p=e(y).skuAttrValueList)==null?void 0:p.length)<=0?(C(),M("span",Pt,"无")):W("",!0),(C(!0),M(ne,null,oe(e(y).skuAttrValueList,D=>(C(),Z(_,{style:{margin:"3px"},key:D.id},{default:n(()=>[H(q(D.valueName),1)]),_:2},1024))),128))]}),_:1})]),_:1}),a(m,{gutter:5,class:"mb-15"},{default:n(()=>[a(h,{span:6},{default:n(()=>[H("销售属性")]),_:1}),a(h,{span:18},{default:n(()=>{var p;return[((p=e(y).skuSaleAttrValueList)==null?void 0:p.length)<=0?(C(),M("span",Vt,"无")):W("",!0),(C(!0),M(ne,null,oe(e(y).skuSaleAttrValueList,D=>(C(),Z(_,{style:{margin:"3px"},type:"success",key:D.id},{default:n(()=>[H(q(D.saleAttrValueName),1)]),_:2},1024))),128))]}),_:1})]),_:1}),a(m,{gutter:5},{default:n(()=>[a(h,{span:6},{default:n(()=>[H("商品图片")]),_:1}),a(h,{span:18},{default:n(()=>{var p;return[((p=e(y).skuImageList)==null?void 0:p.length)<=0?(C(),M("span",Bt,"无")):W("",!0),a(O,{trigger:"click",height:"200px",interval:2e3},{default:n(()=>[a(O,{type:"card",height:"200px"},{default:n(()=>[(C(!0),M(ne,null,oe(e(y).skuImageList,D=>(C(),Z(N,{key:D.id},{default:n(()=>[a(x,{src:D.imgUrl,fit:"fill"},null,8,["src"])]),_:2},1024))),128))]),_:1})]),_:1})]}),_:1})]),_:1})])),[[re,e(P)]])]),footer:n(()=>[]),_:1},8,["modelValue"])])}}});const Xt=et(Dt,[["__scopeId","data-v-5558f87f"]]);export{Xt as default};
